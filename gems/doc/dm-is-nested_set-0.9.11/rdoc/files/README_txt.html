<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README.txt</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>README.txt</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>README.txt
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Tue Jun 16 14:14:25 +0100 2009</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1>dm-is-nested_set</h1>
<p>
<a href="../classes/DataMapper.html">DataMapper</a> plugin allowing the
creation of nested sets from data models. Provides all the same
functionality as dm-is-tree, plus tons more! Read on.
</p>
<h2>What is a nested set?</h2>
<p>
Nested set is a clever model for storing hierarchical data in a flat table.
Instead of (only) storing the id of the parent on each node, a nested set
puts all nodes in a clever structure (see Example below). That is what
makes it possible to get the all of the descendants (not only immediate
children), ancestors, or siblings, in one single query to the database.
</p>
<p>
The only downside to nested sets (compared to trees] is that the queries it
takes to know these things, and to move nodes around in the tree are rather
complex. That is what this plugin takes care of (+ lots of other neat
stuff)!
</p>
<p>
Nested sets are a good choice for most kinds of ordered trees with more
than two levels of nesting. Very good for menus, categories, and threaded
posts.
</p>
<h2>Installation</h2>
<p>
Download and install the latest dm-more-gem. Remember to require it!
</p>
<h2>Getting started</h2>
<p>
Coming
</p>
<h2>Traversing the tree</h2>
<p>
Coming
</p>
<h2>Moving nodes</h2>
<p>
Coming
</p>
<h2>Example of a nested set</h2>
<p>
We have a nested menu of categories. The categories are as follows:
</p>
<p>
-Electronics
</p>
<pre>
 - Televisions
   - Tube
   - LCD
   - Plasma
 - Portable Electronics
   - MP3 Players
   - CD Players
</pre>
<p>
In a nested set, each of these categories would have &#8216;left&#8217; and
&#8216;right&#8217; fields, informing about where in the set they are
positioned. This can be illustrated:
</p>
<pre>
 _____________________________________________________________________________
</pre>
<p>
| <em>_</em> <em>__</em> | | | <em>__</em> <em>_</em> <em>__</em> | |
<em>_</em> <em>_</em> | | | | | | | | | | | | | | | | | | 1 2 3 4 5 6 7 8 9
10 11 12 13 CD- 14 15 16 | | | Tube | | LCD | | Plasma | | | | MP3 Players
| | Players | | | | | |<em>__</em>| |<em>_</em>| |<em>__</em>| | |
|<em>_</em>| |<em>_</em>| | | | | | | | | | | Televisions | | Portable
Electronics | | | |<em>_</em>| |<em>__</em>| | | | | Electronics |
|<em>_</em>|
</p>
<p>
All sets has a left / right value, that just says &#8216;here do I
start&#8217;, and &#8216;here do I end&#8217;. The category
&#8216;Televisions&#8217; starts at 2, and ends at 9. We then know that
<em>all</em> descendants of &#8216;Televisions&#8217; reside between 2 and
9. Whats more, we can see all categories that does not have any
subcategory, by checking if their left and right value has a gap between
them. Clever huh?
</p>
<p>
Now, if we want to insert the category &#8216;Flash&#8217; into &#8216;MP3
Players&#8217;, the new set and left/right values would now be:
</p>
<pre>
 _____________________________________________________________________________
</pre>
<p>
| <em>__</em> | | <em>_</em> | <em>_</em> | | | | <em>__</em> <em>_</em>
<em>__</em> | | | <em>_</em> | <em>_</em> | | | | | | | | | | | | | | | | |
| | | 1 2 3 4 5 6 7 8 9 10 11 12 Flash 13 14 15 CD- 16 17 18 | | | Tube | |
LCD | | Plasma | | | | |<em>_</em>| | | Players | | | | | |<em>__</em>|
|<em>_</em>| |<em>__</em>| | | | | |<em>_</em>| | | | | | | | MP3 Players |
| | | | Televisions | | |<em>_</em>| Portable El. | | | |<em>_</em>|
|<em>__</em>| | | | | Electronics | |<em>_</em>|
</p>
<h2>More about nested sets</h2>
<ul>
<li><a
href="http://www.developersdex.com/gurus/articles/112.asp">www.developersdex.com/gurus/articles/112.asp</a>

</li>
<li><a
href="http://dev.mysql.com/tech-resources/articles/hierarchical-data.html">dev.mysql.com/tech-resources/articles/hierarchical-data.html</a>

</li>
<li><a
href="http://www.codeproject.com/KB/database/nestedsets.aspx">www.codeproject.com/KB/database/nestedsets.aspx</a>
(nice illustrations)

</li>
</ul>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>