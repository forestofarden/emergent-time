<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: RepertoireCore::Mixins::AuthorizationHelper</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">RepertoireCore::Mixins::AuthorizationHelper</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/lib/repertoire_core/mixins/authorization_helper_rb.html">
                lib/repertoire_core/mixins/authorization_helper.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000009">ensure_authorized</a>&nbsp;&nbsp;
      <a href="#M000011">ensure_institution</a>&nbsp;&nbsp;
      <a href="#M000010">require_institution</a>&nbsp;&nbsp;
      <a href="#M000008">require_role!</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M000009" class="method-detail">
        <a name="M000009"></a>

        <div class="method-heading">
          <span class="method-name">ensure_authorized</span><span class="method-args">(*args)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for require_role!
</p>
        </div>
      </div>

      <div id="method-M000011" class="method-detail">
        <a name="M000011"></a>

        <div class="method-heading">
          <span class="method-name">ensure_institution</span><span class="method-args">(*rest)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a
href="AuthorizationHelper.html#M000010">require_institution</a>
</p>
        </div>
      </div>

      <div id="method-M000010" class="method-detail">
        <a name="M000010"></a>

        <div class="method-heading">
          <a href="AuthorizationHelper.src/M000010.html" target="Code" class="method-signature"
            onclick="popupCode('AuthorizationHelper.src/M000010.html');return false;">
          <span class="method-name">require_institution</span><span class="method-args">(*rest)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
If the currently authenticated user belongs to one of the institution codes
listed, the filter passes. Otherwise the <a
href="../Forbidden.html">Forbidden</a> exception will be raised.
</p>
<p>
Use the :message key in the options hash to pass in a failure message to
the exception.
</p>
<h3>Example</h3>
<pre>
   class MyController &lt; Application
     before :ensure_authenticated
     before :ensure_authorized, :with =&gt; ['MIT-2', 'YALEU', :message =&gt; &quot;Failed authorization&quot;]
      #... &lt;snip&gt;
   end
</pre>
        </div>
      </div>

      <div id="method-M000008" class="method-detail">
        <a name="M000008"></a>

        <div class="method-heading">
          <a href="AuthorizationHelper.src/M000008.html" target="Code" class="method-signature"
            onclick="popupCode('AuthorizationHelper.src/M000008.html');return false;">
          <span class="method-name">require_role!</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This is the main method to use as a before filter. You call it with a list
of role names, which are checked in order. If the currently authenticated
user has any role that implies one of the listed roles, the filter passes
and the action proceeds. Otherwise the <a
href="../Forbidden.html">Forbidden</a> exception will be raised.
</p>
<p>
Use the :message key in the options hash to pass in a failure message to
the exception.
</p>
<h3>Example</h3>
<pre>
   class MyController &lt; Application
     before :ensure_authorized, :with =&gt; [:foo_member, {:message =&gt; &quot;You need to be a privileged FOO MEMBER to see this page!&quot;}]
      #... &lt;snip&gt;
   end
</pre>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>