<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Merb::Slices</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Merb::Slices</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/merb-slices/controller_mixin_rb.html">
                lib/merb-slices/controller_mixin.rb
                </a>
        <br />
                <a href="../../files/lib/merb-slices/module_rb.html">
                lib/merb-slices/module.rb
                </a>
        <br />
                <a href="../../files/lib/merb-slices/module_mixin_rb.html">
                lib/merb-slices/module_mixin.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000721">[]</a>&nbsp;&nbsp;
      <a href="#M000726">activate</a>&nbsp;&nbsp;
      <a href="#M000727">activate_by_file</a>&nbsp;&nbsp;
      <a href="#M000735">config</a>&nbsp;&nbsp;
      <a href="#M000728">deactivate</a>&nbsp;&nbsp;
      <a href="#M000729">deactivate_by_file</a>&nbsp;&nbsp;
      <a href="#M000741">each_slice</a>&nbsp;&nbsp;
      <a href="#M000738">exists?</a>&nbsp;&nbsp;
      <a href="#M000722">filename2module</a>&nbsp;&nbsp;
      <a href="#M000740">files</a>&nbsp;&nbsp;
      <a href="#M000734">named_routes</a>&nbsp;&nbsp;
      <a href="#M000739">paths</a>&nbsp;&nbsp;
      <a href="#M000723">register</a>&nbsp;&nbsp;
      <a href="#M000724">register_slices_from_search_path!</a>&nbsp;&nbsp;
      <a href="#M000730">reload</a>&nbsp;&nbsp;
      <a href="#M000731">reload_by_file</a>&nbsp;&nbsp;
      <a href="#M000742">slice_files_from_search_path</a>&nbsp;&nbsp;
      <a href="#M000737">slice_names</a>&nbsp;&nbsp;
      <a href="#M000736">slices</a>&nbsp;&nbsp;
      <a href="#M000732">start_dynamic_loader!</a>&nbsp;&nbsp;
      <a href="#M000733">stop_dynamic_loader!</a>&nbsp;&nbsp;
      <a href="#M000725">unregister</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Module <a href="Slices/ControllerMixin.html" class="link">Merb::Slices::ControllerMixin</a><br />
Module <a href="Slices/ModuleMixin.html" class="link">Merb::Slices::ModuleMixin</a><br />
Module <a href="Slices/Support.html" class="link">Merb::Slices::Support</a><br />
Class <a href="Slices/Activate.html" class="link">Merb::Slices::Activate</a><br />
Class <a href="Slices/DynamicLoader.html" class="link">Merb::Slices::DynamicLoader</a><br />
Class <a href="Slices/Initialize.html" class="link">Merb::Slices::Initialize</a><br />
Class <a href="Slices/Loader.html" class="link">Merb::Slices::Loader</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">VERSION</td>
          <td>=</td>
          <td class="context-item-value">&quot;0.9.8&quot;</td>
        </tr>
        </table>
      </div>
    </div>

    <div id="aliases-list">
      <h3 class="section-bar">External Aliases</h3>

      <div class="name-list">
                        <table summary="aliases">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">activate_by_file</td>
          <td>-&gt;</td>
          <td class="context-item-value">register_and_load</td>
        </tr>
                        </table>
      </div>
    </div>


      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000721" class="method-detail">
        <a name="M000721"></a>

        <div class="method-heading">
          <a href="Slices.src/M000721.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000721.html');return false;">
          <span class="method-name">[]</span><span class="method-args">(module_name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retrieve a slice module by name
</p>
<p>
@param &lt;to_s&gt; The slice module to check for. @return &lt;Module&gt;
The slice module itself.
</p>
        </div>
      </div>

      <div id="method-M000726" class="method-detail">
        <a name="M000726"></a>

        <div class="method-heading">
          <a href="Slices.src/M000726.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000726.html');return false;">
          <span class="method-name">activate</span><span class="method-args">(slice_module)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Slices/Activate.html">Activate</a> a Slice module at runtime
</p>
<p>
Looks for previously registered <a href="Slices.html#M000736">slices</a>;
then searches :search_path for matches.
</p>
<p>
@param slice_module&lt;to_s&gt; Usually a string of version of the slice
module name.
</p>
        </div>
      </div>

      <div id="method-M000727" class="method-detail">
        <a name="M000727"></a>

        <div class="method-heading">
          <a href="Slices.src/M000727.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000727.html');return false;">
          <span class="method-name">activate_by_file</span><span class="method-args">(slice_file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Register a Slice by its gem/lib init file path and <a
href="Slices.html#M000726">activate</a> it at runtime
</p>
<p>
Normally <a href="Slices.html#M000736">slices</a> are loaded using
BootLoaders on application startup. This method gives you the possibility
to add <a href="Slices.html#M000736">slices</a> at runtime, all without
restarting your app. Together with <a
href="Slices.html#M000728">deactivate</a> it allows you to enable/disable
<a href="Slices.html#M000736">slices</a> at any time. The router is
reloaded to incorporate any changes. Disabled <a
href="Slices.html#M000736">slices</a> will be skipped when routes are
regenerated.
</p>
<p>
@param slice_file&lt;String&gt; The path of the gem &#8216;init file&#8216;
</p>
<p>
@example <a
href="Slices.html#M000727">Merb::Slices.activate_by_file</a>(&#8217;/path/to/gems/slice-name/lib/slice-name.rb&#8217;)
</p>
        </div>
      </div>

      <div id="method-M000735" class="method-detail">
        <a name="M000735"></a>

        <div class="method-heading">
          <a href="Slices.src/M000735.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000735.html');return false;">
          <span class="method-name">config</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return &lt;Hash&gt;
</p>
<pre>
  The configuration loaded from Merb.root / &quot;config/slices.yml&quot; or, if
  the load fails, an empty hash.
</pre>
        </div>
      </div>

      <div id="method-M000728" class="method-detail">
        <a name="M000728"></a>

        <div class="method-heading">
          <a href="Slices.src/M000728.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000728.html');return false;">
          <span class="method-name">deactivate</span><span class="method-args">(slice_module)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Deactivate a Slice module at runtime
</p>
<p>
@param slice_module&lt;to_s&gt; The Slice module to <a
href="Slices.html#M000725">unregister</a>.
</p>
        </div>
      </div>

      <div id="method-M000729" class="method-detail">
        <a name="M000729"></a>

        <div class="method-heading">
          <a href="Slices.src/M000729.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000729.html');return false;">
          <span class="method-name">deactivate_by_file</span><span class="method-args">(slice_file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Deactivate a Slice module at runtime by specifying its slice file
</p>
<p>
@param slice_file&lt;String&gt; The Slice location of the slice init file
to <a href="Slices.html#M000725">unregister</a>.
</p>
        </div>
      </div>

      <div id="method-M000741" class="method-detail">
        <a name="M000741"></a>

        <div class="method-heading">
          <a href="Slices.src/M000741.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000741.html');return false;">
          <span class="method-name">each_slice</span><span class="method-args">(&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Iterate over all registered <a href="Slices.html#M000736">slices</a>
</p>
<p>
By default iterates alphabetically over all registered modules. If
Merb::Plugins.config[:merb_slices][:queue] is set, only the defined modules
are loaded in the given order. This can be used to selectively load <a
href="Slices.html#M000736">slices</a>, and also maintain load-order for <a
href="Slices.html#M000736">slices</a> that depend on eachother.
</p>
<p>
@yield Iterate over known <a href="Slices.html#M000736">slices</a> and pass
in the slice module. @yieldparam module&lt;Module&gt; The Slice module.
</p>
        </div>
      </div>

      <div id="method-M000738" class="method-detail">
        <a name="M000738"></a>

        <div class="method-heading">
          <a href="Slices.src/M000738.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000738.html');return false;">
          <span class="method-name">exists?</span><span class="method-args">(module_name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Check whether a Slice exists
</p>
<p>
@param &lt;to_s&gt; The slice module to check for.
</p>
        </div>
      </div>

      <div id="method-M000722" class="method-detail">
        <a name="M000722"></a>

        <div class="method-heading">
          <a href="Slices.src/M000722.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000722.html');return false;">
          <span class="method-name">filename2module</span><span class="method-args">(slice_file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Helper method to transform a slice filename to a module Symbol
</p>
        </div>
      </div>

      <div id="method-M000740" class="method-detail">
        <a name="M000740"></a>

        <div class="method-heading">
          <a href="Slices.src/M000740.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000740.html');return false;">
          <span class="method-name">files</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A lookup for finding a Slice module&#8216;s slice file path
</p>
<p>
@return &lt;Hash&gt; A Hash mapping module names to slice <a
href="Slices.html#M000740">files</a>. @note This is unaffected by
deactivating a slice; used to <a href="Slices.html#M000730">reload</a> <a
href="Slices.html#M000736">slices</a> by name.
</p>
        </div>
      </div>

      <div id="method-M000734" class="method-detail">
        <a name="M000734"></a>

        <div class="method-heading">
          <a href="Slices.src/M000734.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000734.html');return false;">
          <span class="method-name">named_routes</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return &lt;Hash[Hash]&gt;
</p>
<pre>
  A Hash mapping between slice identifiers and non-prefixed named routes.
</pre>
        </div>
      </div>

      <div id="method-M000739" class="method-detail">
        <a name="M000739"></a>

        <div class="method-heading">
          <a href="Slices.src/M000739.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000739.html');return false;">
          <span class="method-name">paths</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A lookup for finding a Slice module&#8216;s path
</p>
<p>
@return &lt;Hash&gt; A Hash mapping module names to root <a
href="Slices.html#M000739">paths</a>. @note Whenever a slice is
deactivated, its path is removed from the lookup.
</p>
        </div>
      </div>

      <div id="method-M000723" class="method-detail">
        <a name="M000723"></a>

        <div class="method-heading">
          <a href="Slices.src/M000723.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000723.html');return false;">
          <span class="method-name">register</span><span class="method-args">(slice_file, force = true)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Register a Slice by its gem/lib path for loading at startup
</p>
<p>
This is referenced from
gems/&lt;slice-gem-x.x.x&gt;/lib/&lt;slice-gem&gt;.rb Which gets loaded for
any gem. The name of the file is used to extract the Slice module name.
</p>
<p>
@param slice_file&lt;String&gt; The path of the gem &#8216;init file&#8217;
@param force&lt;Boolean&gt; Whether to overwrite currently registered slice
or not.
</p>
<p>
@return &lt;Module&gt; The Slice module that has been setup.
</p>
<p>
@example Merb::Slices::register(<em>FILE</em>) @example
Merb::Slices::register(&#8217;/path/to/my-slice/lib/my-slice.rb&#8217;)
</p>
        </div>
      </div>

      <div id="method-M000724" class="method-detail">
        <a name="M000724"></a>

        <div class="method-heading">
          <a href="Slices.src/M000724.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000724.html');return false;">
          <span class="method-name">register_slices_from_search_path!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Look for any <a href="Slices.html#M000736">slices</a> in Merb.root /
&#8216;<a href="Slices.html#M000736">slices</a>&#8217; (the default) or if
given, Merb::Plugins.config[:merb_slices][:search_path] (String/Array)
</p>
        </div>
      </div>

      <div id="method-M000730" class="method-detail">
        <a name="M000730"></a>

        <div class="method-heading">
          <a href="Slices.src/M000730.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000730.html');return false;">
          <span class="method-name">reload</span><span class="method-args">(slice_module)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Reload a Slice at runtime
</p>
<p>
@param slice_module&lt;to_s&gt; The Slice module to <a
href="Slices.html#M000730">reload</a>.
</p>
        </div>
      </div>

      <div id="method-M000731" class="method-detail">
        <a name="M000731"></a>

        <div class="method-heading">
          <a href="Slices.src/M000731.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000731.html');return false;">
          <span class="method-name">reload_by_file</span><span class="method-args">(slice_file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Reload a Slice at runtime by specifying its slice file
</p>
<p>
@param slice_file&lt;String&gt; The Slice location of the slice init file
to <a href="Slices.html#M000730">reload</a>.
</p>
        </div>
      </div>

      <div id="method-M000742" class="method-detail">
        <a name="M000742"></a>

        <div class="method-heading">
          <a href="Slices.src/M000742.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000742.html');return false;">
          <span class="method-name">slice_files_from_search_path</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Slice file locations from all search <a
href="Slices.html#M000739">paths</a>; this default to host-app/slices.
</p>
<p>
Look for any <a href="Slices.html#M000736">slices</a> in those default
locations or if given, Merb::Plugins.config[:merb_slices][:search_path]
(String/Array). Specify <a href="Slices.html#M000740">files</a>, glob
patterns or <a href="Slices.html#M000739">paths</a> containing <a
href="Slices.html#M000736">slices</a>.
</p>
        </div>
      </div>

      <div id="method-M000737" class="method-detail">
        <a name="M000737"></a>

        <div class="method-heading">
          <a href="Slices.src/M000737.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000737.html');return false;">
          <span class="method-name">slice_names</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
All registered Slice module names
</p>
<p>
@return &lt;Array[String]&gt; A sorted array of all slice module names.
</p>
        </div>
      </div>

      <div id="method-M000736" class="method-detail">
        <a name="M000736"></a>

        <div class="method-heading">
          <a href="Slices.src/M000736.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000736.html');return false;">
          <span class="method-name">slices</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
All registered Slice modules
</p>
<p>
@return &lt;Array[Module]&gt; A sorted array of all slice modules.
</p>
        </div>
      </div>

      <div id="method-M000732" class="method-detail">
        <a name="M000732"></a>

        <div class="method-heading">
          <a href="Slices.src/M000732.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000732.html');return false;">
          <span class="method-name">start_dynamic_loader!</span><span class="method-args">(interval = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Watch all specified search <a href="Slices.html#M000739">paths</a> to
dynamically load/unload <a href="Slices.html#M000736">slices</a> at runtime
</p>
<p>
If a valid slice is found it&#8216;s automatically registered and
activated; once a slice is removed (or renamed to not match the
convention), it will be unregistered and deactivated. Runs in a Thread.
</p>
<p>
@example Merb::BootLoader.after_app_loads {
Merb::Slices.start_dynamic_loader! }
</p>
<p>
@param interval&lt;Numeric&gt;
</p>
<pre>
  The interval in seconds of checking the search path(s) for changes.
</pre>
        </div>
      </div>

      <div id="method-M000733" class="method-detail">
        <a name="M000733"></a>

        <div class="method-heading">
          <a href="Slices.src/M000733.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000733.html');return false;">
          <span class="method-name">stop_dynamic_loader!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Stop watching search <a href="Slices.html#M000739">paths</a> to dynamically
load/unload <a href="Slices.html#M000736">slices</a> at runtime
</p>
        </div>
      </div>

      <div id="method-M000725" class="method-detail">
        <a name="M000725"></a>

        <div class="method-heading">
          <a href="Slices.src/M000725.html" target="Code" class="method-signature"
            onclick="popupCode('Slices.src/M000725.html');return false;">
          <span class="method-name">unregister</span><span class="method-args">(slice_module)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Unregister a Slice at runtime
</p>
<p>
This clears the slice module from ObjectSpace and reloads the router. Since
the router doesn&#8216;t add routes for any disabled <a
href="Slices.html#M000736">slices</a> this will correctly reflect the
app&#8216;s routing state.
</p>
<p>
@param slice_module&lt;to_s&gt; The Slice module to <a
href="Slices.html#M000725">unregister</a>.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>