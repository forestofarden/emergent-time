<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Merb::Template</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Merb::Template</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/merb-core/controller/template_rb.html">
                lib/merb-core/controller/template.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000385">engine_for</a>&nbsp;&nbsp;
      <a href="#M000384">inline_template</a>&nbsp;&nbsp;
      <a href="#M000380">load_template_io</a>&nbsp;&nbsp;
      <a href="#M000382">needs_compilation?</a>&nbsp;&nbsp;
      <a href="#M000386">register_extensions</a>&nbsp;&nbsp;
      <a href="#M000383">template_extensions</a>&nbsp;&nbsp;
      <a href="#M000381">template_for</a>&nbsp;&nbsp;
      <a href="#M000379">template_name</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Class <a href="Template/Erubis.html" class="link">Merb::Template::Erubis</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EXTENSIONS</td>
          <td>=</td>
          <td class="context-item-value">{} unless defined?(EXTENSIONS)</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">METHOD_LIST</td>
          <td>=</td>
          <td class="context-item-value">{} unless defined?(METHOD_LIST)</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SUPPORTED_LOCALS_LIST</td>
          <td>=</td>
          <td class="context-item-value">Hash.new([].freeze) unless defined?(SUPPORTED_LOCALS_LIST)</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MTIMES</td>
          <td>=</td>
          <td class="context-item-value">{} unless defined?(MTIMES)</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000385" class="method-detail">
        <a name="M000385"></a>

        <div class="method-heading">
          <a href="Template.src/M000385.html" target="Code" class="method-signature"
            onclick="popupCode('Template.src/M000385.html');return false;">
          <span class="method-name">engine_for</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Finds the engine for a particular path.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">path&lt;<a href="../String.html">String</a>&gt;:</td><td>The path of the file to find an engine for.

</td></tr>
</table>
<h4>Returns</h4>
<table>
<tr><td valign="top"><a href="../Class.html">Class</a>:</td><td>The engine.

</td></tr>
</table>
<p>
:api: private
</p>
        </div>
      </div>

      <div id="method-M000384" class="method-detail">
        <a name="M000384"></a>

        <div class="method-heading">
          <a href="Template.src/M000384.html" target="Code" class="method-signature"
            onclick="popupCode('Template.src/M000384.html');return false;">
          <span class="method-name">inline_template</span><span class="method-args">(io, locals=[], mod = Merb::InlineTemplates)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Takes a template at a particular path and inlines it into a module and adds
it to the METHOD_LIST table to speed lookup later.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">io&lt;path&gt;:</td><td>An IO that responds to path (File or VirtualFile)

</td></tr>
<tr><td valign="top">locals&lt;Array[Symbol]&gt;:</td><td>A list of local names that should be assigned in the template method from
the arguments hash. Defaults to [].

</td></tr>
<tr><td valign="top">mod&lt;Module&gt;:</td><td>The module to put the compiled method into. Defaults to <a
href="InlineTemplates.html">Merb::InlineTemplates</a>

</td></tr>
</table>
<h4>Returns</h4>
<table>
<tr><td valign="top">Symbol:</td><td>The name of the method that the template was compiled into.

</td></tr>
</table>
<h4>Notes</h4>
<p>
Even though this method supports inlining into any module, the method must
be available to instances of <a
href="AbstractController.html">AbstractController</a> that will use it.
</p>
<p>
:api: private
</p>
        </div>
      </div>

      <div id="method-M000380" class="method-detail">
        <a name="M000380"></a>

        <div class="method-heading">
          <a href="Template.src/M000380.html" target="Code" class="method-signature"
            onclick="popupCode('Template.src/M000380.html');return false;">
          <span class="method-name">load_template_io</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
For a given path, get an IO object that responds to path.
</p>
<p>
This is so that plugins can override this if they provide mechanisms for
specifying templates that are not just simple files. The plugin is
responsible for ensuring that the fake path provided will work with <a
href="Template.html#M000381">template_for</a>, and thus the <a
href="RenderMixin.html">RenderMixin</a> in general.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">path&lt;<a href="../String.html">String</a>&gt;:</td><td>A full path to find a template for. This is the

</td></tr>
</table>
<pre>
  path that the RenderMixin assumes it should find the template
  in.
</pre>
<h4>Returns</h4>
<table>
<tr><td valign="top">IO#path:</td><td>An IO object that responds to path (File or VirtualFile).

</td></tr>
</table>
<p>
:api: plugin @overridable
</p>
        </div>
      </div>

      <div id="method-M000382" class="method-detail">
        <a name="M000382"></a>

        <div class="method-heading">
          <a href="Template.src/M000382.html" target="Code" class="method-signature"
            onclick="popupCode('Template.src/M000382.html');return false;">
          <span class="method-name">needs_compilation?</span><span class="method-args">(path, locals)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Decide if a template needs to be re/compiled.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">path&lt;<a href="../String.html">String</a>&gt;:</td><td>The full path of the template to check support for.

</td></tr>
<tr><td valign="top">locals&lt;Array[Symbol]&gt;:</td><td>The list of locals that need to be supported

</td></tr>
</table>
<h4>Returns</h4>
<table>
<tr><td valign="top">Boolean:</td><td>Whether or not the template for the provided path needs to be recompiled

</td></tr>
</table>
<p>
:api: private
</p>
        </div>
      </div>

      <div id="method-M000386" class="method-detail">
        <a name="M000386"></a>

        <div class="method-heading">
          <a href="Template.src/M000386.html" target="Code" class="method-signature"
            onclick="popupCode('Template.src/M000386.html');return false;">
          <span class="method-name">register_extensions</span><span class="method-args">(engine, extensions)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Registers the extensions that will trigger a particular templating engine.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">engine&lt;<a href="../Class.html">Class</a>&gt;:</td><td>The class of the engine that is being registered

</td></tr>
<tr><td valign="top">extensions&lt;Array[<a href="../String.html">String</a>]&gt;:</td><td>The list of extensions that will be registered with this templating
language

</td></tr>
</table>
<h4>Raises</h4>
<table>
<tr><td valign="top">ArgumentError:</td><td>engine does not have a compile_template method.

</td></tr>
</table>
<h4>Returns</h4>
<p>
nil
</p>
<h4>Example</h4>
<pre>
  Merb::Template.register_extensions(Merb::Template::Erubis, [&quot;erb&quot;])
</pre>
<p>
:api: plugin
</p>
        </div>
      </div>

      <div id="method-M000383" class="method-detail">
        <a name="M000383"></a>

        <div class="method-heading">
          <a href="Template.src/M000383.html" target="Code" class="method-signature"
            onclick="popupCode('Template.src/M000383.html');return false;">
          <span class="method-name">template_extensions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get all known template extensions
</p>
<h4>Returns</h4>
<pre>
  Array:: Extension strings.
</pre>
<p>
:api: plugin
</p>
        </div>
      </div>

      <div id="method-M000381" class="method-detail">
        <a name="M000381"></a>

        <div class="method-heading">
          <a href="Template.src/M000381.html" target="Code" class="method-signature"
            onclick="popupCode('Template.src/M000381.html');return false;">
          <span class="method-name">template_for</span><span class="method-args">(path, template_stack = [], locals=[])</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the name of the template method for a particular path.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">path&lt;<a href="../String.html">String</a>&gt;:</td><td>A full path to find a template method for.

</td></tr>
<tr><td valign="top">template_stack&lt;Array&gt;:</td><td>The template stack. Not used.

</td></tr>
<tr><td valign="top">locals&lt;Array[Symbol]&gt;:</td><td>The names of local variables

</td></tr>
</table>
<h4>Returns</h4>
<table>
<tr><td valign="top">&lt;<a href="../String.html">String</a>&gt;:</td><td>name of the method that inlines the template.

</td></tr>
</table>
<p>
:api: private
</p>
        </div>
      </div>

      <div id="method-M000379" class="method-detail">
        <a name="M000379"></a>

        <div class="method-heading">
          <a href="Template.src/M000379.html" target="Code" class="method-signature"
            onclick="popupCode('Template.src/M000379.html');return false;">
          <span class="method-name">template_name</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the template&#8216;s method name from a full path. This replaces
non-alphanumeric characters with __ and &quot;.&quot; with &quot;_&quot;
</p>
<p>
Collisions are potentially possible with something like: ~foo.bar and
__foo.bar or !foo.bar.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">path&lt;<a href="../String.html">String</a>&gt;:</td><td>A full path to convert to a valid Ruby method name

</td></tr>
</table>
<h4>Returns</h4>
<table>
<tr><td valign="top"><a href="../String.html">String</a>:</td><td>The template name.

</td></tr>
</table>
<p>
We might want to replace this with something that varies the character
replaced based on the non-alphanumeric character to avoid edge-case
collisions.
</p>
<p>
:api: private
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>